<ion-card color="dark">
    <ion-item color="dark">
        <ion-label><h1>
            Poules
        </h1></ion-label>
        <ion-buttons slot="end">
            <ion-button *ngIf="router.url.includes('dashboard')" (click)="expandView()">
                <ion-icon name="expand"></ion-icon>
            </ion-button>
            <ion-button *ngIf="!router.url.includes('dashboard')" (click)="closeView()">
                <ion-icon name="close"></ion-icon>
            </ion-button>
        </ion-buttons>
    </ion-item>
    <hr style="background-color: #25B973">
    <ion-card-content>
        <ng-container *ngIf="!activePoule">
            <ion-item *ngFor="let poule of poules$ | async" color="dark" class="activated"
                      (click)="selectPoule(poule)">
                <ion-icon name="logo-buffer" slot="start"></ion-icon>
                <ion-label>{{poule.poule_name}}</ion-label>
                <ion-icon name="eye" slot="end" color="tertiary"></ion-icon>
            </ion-item>
        </ng-container>

        <ng-container *ngIf="activePoule">
            <ion-item color="medium" (click)="activePoule = undefined">
                <ion-icon name="logo-buffer" slot="start"></ion-icon>
                <ion-label>{{activePoule.poule_name}}</ion-label>
                <ion-icon name="close" slot="end"></ion-icon>
            </ion-item>
            <ion-item *ngFor="let deelnemer of activePoule.deelnemers">
                <ion-avatar slot="start">
                    <ngx-avatar size="40" bgColor="#000" borderColor="#25B973" fgColor="#25B973"
                                [value]="deelnemer.positie"></ngx-avatar>
                </ion-avatar>
                <ion-label text-wrap>
                    <ion-text color="tertiary">
                        <h3>{{deelnemer.display_name}} ({{deelnemer.totaalpunten}})</h3>
                    </ion-text>
                    <ion-text>
                        <p class="subtitle_score">Test {{deelnemer.testpunten}} -
                            Mol {{deelnemer.molpunten}} -
                            Winnaar {{deelnemer.winnaarpunten}} -
                            Afvaller {{deelnemer.afvallerpunten}}
                    </ion-text>
                </ion-label>
            </ion-item>
        </ng-container>
    </ion-card-content>
</ion-card>